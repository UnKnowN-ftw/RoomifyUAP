{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roomify UAP - Login/Register</title>
    <link rel="stylesheet" href="{% static 'css/login_register_styles.css' %}" />
  </head>

  <body>
    <div class="container">
      <img src="{% static 'Images/ROOMIFY.png' %}" alt="Logo" class="logo" height="75" />
      <h1>Roomify UAP</h1>

      <div class="tab-buttons">
        <button class="tab-button active" onclick="showSection('login-options')">Login</button>
        <button class="tab-button" onclick="showSection('register-options')">Register</button>
      </div>

      <!-- Login -->
      <div id="login-options" class="tab-content active">
        <button class="option-button" onclick="showSection('login-renter')">As Renter</button>
        <button class="option-button" onclick="showSection('login-owner')">As Owner</button>
      </div>

      <div id="login-renter" class="tab-content">
        <h2>Login as Renter</h2>
        <form action="{% url 'login_user' 'renter' %}" method="POST">
          {% csrf_token %}
          <input type="text" name="username" placeholder="Username" required />
          <input type="password" name="password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>
      </div>

      <div id="login-owner" class="tab-content">
        <h2>Login as Owner</h2>
        <form action="{% url 'login_user' 'owner' %}" method="POST">
          {% csrf_token %}
          <input type="text" name="username" placeholder="Username" required />
          <input type="password" name="password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>
      </div>

      <!-- Register -->
      <div id="register-options" class="tab-content">
        <button class="option-button" onclick="showSection('register-renter')">As Renter</button>
        <button class="option-button" onclick="showSection('register-owner')">As Owner</button>
      </div>

      <div id="register-renter" class="tab-content">
        <h2>Register as Renter</h2>
        <form action="{% url 'register_user' 'renter' %}" method="POST">
          {% csrf_token %}
          <input type="text" name="username" placeholder="Username (optional)" />
          <input type="text" name="first_name" placeholder="First Name" required />
          <input type="text" name="last_name" placeholder="Last Name" required />
          <input type="email" name="email" placeholder="Email" required />
          <input type="tel" name="phone" placeholder="Phone Number" required />
          <input type="password" name="password" placeholder="Password" required />
          <input type="password" name="confirm_password" placeholder="Confirm Password" required />
          <button type="submit">Register</button>
        </form>
      </div>

      <div id="register-owner" class="tab-content">
        <h2>Register as Owner</h2>
        <form action="{% url 'register_user' 'owner' %}" method="POST">
          {% csrf_token %}
          <input type="text" name="username" placeholder="Username (optional)" />
          <input type="text" name="first_name" placeholder="First Name" required />
          <input type="text" name="last_name" placeholder="Last Name" required />
          <input type="email" name="email" placeholder="Email" required />
          <input type="tel" name="phone" placeholder="Phone Number" required />
          <input type="password" name="password" placeholder="Password" required />
          <input type="password" name="confirm_password" placeholder="Confirm Password" required />
          <button type="submit">Register</button>
        </form>
      </div>
    </div>

    <script>
      function showSection(id) {
        document.querySelectorAll('.tab-content').forEach((el) => el.classList.remove('active'))
        document.getElementById(id).classList.add('active')
      
        const tabButtons = document.querySelectorAll('.tab-button')
        if (id === 'login-options') {
          tabButtons[0].classList.add('active')
          tabButtons[1].classList.remove('active')
        } else if (id === 'register-options') {
          tabButtons[0].classList.remove('active')
          tabButtons[1].classList.add('active')
        }
      }
    </script>
  </body>
</html>
